<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/todo.service.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/todo.service.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Todo Factory
 * @namespace Factories
 * */
(function () {
    'use strict';
    angular
        .module('todoDexMediaApp')
        .factory('TodoService', TodoService);

    /**
    * @namespace TodoService
    * @desc Application Wide Todo Service. Will return user's todo list items and public methods
    * @memberOf Factories
    * */
    function TodoService() {
        var todos = {
            list: [],
            nextId: 0,
            save: save,
            remove: remove,
            edit: edit
        };
        loadListsFromServer(); // Mock load todo list from server...
        return todos;

        //////////////////////////////////// Implementation Details

        /**
        * @name remove
        * @desc Removes todo item from todo list array
        * @param {Object} todo Todo object to remove
        * @memberOf Factories.TodoService
        * */
        function remove(todo) {
            _.remove(todos.list, function (list) {
                return list.id === todo.id;
            });
        }

        /**
         * @name save
         * @desc Inserts new todo item into todo list array
         * @param {Object} todo Todo object from ng-repeat
         * @memberOf Factories.TodoService
         * */
        function save(todo) {
            todo.id = todos.nextId++;
            todo.completed = false;
            todos.list.push(todo);
        }

        /**
         * @name edit
         * @desc Edit existing todo item in todo list array
         * @param {Object} todo Todo object from ng-repeat
         * @memberOf Factories.TodoService
         * */
        function edit(todo) {
            //find index of todo
            var idx = findIndex(todo);
            todos.list.splice(idx, 1, todo);
        }

        /**
         * @name findIndex
         * @desc Uses lodash to find id of existing todo item in todo list array
         * @param {Object} todo Todo object from ng-repeat
         * @returns {number}
         * @memberOf Factories.TodoService
         * */
        function findIndex(todo) {
            var index = _.indexOf(todos.list, _.find(todos.list, {id: todo.id}));
            return index;
        }

        /**
         * @name loadListsFromServer
         * @desc For demo purposes, mock loading from server...
         * @returns {number}
         * @memberOf Factories.TodoService
         * */
        function loadListsFromServer() {
            // Would use $http or $resource services for loading from server or REST API...
            // Mocking for homework purposes...
            todos.list = [
                {id:0, title: 'Finish Dex Media Homework', note:'This is a very', due: new Date(), completed: false},
                {id:1, title: 'Consider Architecture and Communication', note:'This is a very', completed: false},
                {id:2, title: 'Write Controllers', note:'This is a very', due: new Date(), completed: false},
                {id:3, title: 'Write Directives', note:'This is a very', due: new Date(), completed: false},
                {id:4, title: 'Write Unit Tests', note:'This is a very', due: new Date(), completed: true},
                {id:5, title: 'Refactor Code', note:'This is a very', due: new Date(), completed: true}
            ];
            todos.nextId = 6;
        }
    }

})();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Controllers.html">Controllers</a></li><li><a href="Controllers.MainController.html">MainController</a></li><li><a href="Controllers.SignUpController.html">SignUpController</a></li><li><a href="Controllers.TodoController.html">TodoController</a></li><li><a href="Directives.html">Directives</a></li><li><a href="Directives.DexTodo.html">DexTodo</a></li><li><a href="Directives.SignUp.html">SignUp</a></li><li><a href="Factories.html">Factories</a></li><li><a href="Factories.TodoService.html">TodoService</a></li><li><a href="Factories.UserService.html">UserService</a></li><li><a href="Modules.html">Modules</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Apr 12 2016 07:30:41 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
